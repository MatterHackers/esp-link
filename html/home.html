<!DOCTYPE html>
<html>
<head>
	<title></title>
</head>
<body>
	<div class="page-home" id="main">
		<div class="header">
			<a href="https://www.matterhackers.com" target="_blank"><img src="/mh-logo-blue.svg"></a>
			<h1 class="mc-title popup-target">MatterControl Connect</h1>
			<h2 class="mc-subtitle">by <a href="https://www.matterhackers.com" target="_blank">MatterHackers</a></h2>
		</div>
		<div class="content">
			<div class="pure-g">
				<div class="pure-u-1-1">
					<div class="card">
						<h1>Congrats!</h1>
						<p>Congratulations on purchasing the MatterControl Connect by MatterHackers! Welcome to the world of untethered 3D printing, we know you’re going to love it.</p>
						<p>To complete setup, head over to the <a href="https://matterhackers.dozuki.com/c/MatterControl_Connect" target="_blank">Getting Started Guide</a>.</p>
						<p>Once your Connect is set up, you can return to this page anytime either with it’s IP address on your local network or by its’ hostname, which you can customize below (Super useful when using multiple units!)</p>
						<p>For more awesome MatterControl products and to pick up some more filament, head over to <a href="https://www.matterhackers.com" target="_blank">MatterHackers.com</a>.</p>
					</div>
				</div>
			</div>

			<div class="pure-g">
				<div class="pure-u-1-2 pure-u-md-1-2">
					<div class="card">
						<h1>System overview</h1>
						<div class="spinner spinner-small" id="wifi-spinner"></div>
						<table class="pure-table pure-table-horizontal" hidden="" id="wifi-table">
							<tbody>
								<tr>
									<td class="">Hostname</td>
									<td>
										<div class="click-to-edit system-name">
											<span class="edit-off"></span> <input class="edit-on" hidden="" maxlength="31">
											<div class="popup">
												Click to edit!<br>
												Hostname displayed in menu bar and used by DHCP and mDNS
											</div>
										</div>
									</td>
								</tr>
								<tr>
									<td>Network SSID</td>
									<td id="wifi-ssid"></td>
								</tr>
								<tr>
									<td>WiFi status</td>
									<td id="wifi-status"></td>
								</tr>
								<tr>
									<td>WiFi address</td>
									<td id="wifi-ip"></td>
								</tr>
								<tr>
									<td>SLIP status</td>
									<td class="system-slip"></td>
								</tr>
								<tr>
									<td>MQTT status</td>
									<td class="system-mqtt"></td>
								</tr>
								<tr>
									<td>Serial baud</td>
									<td class="system-baud"></td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>
				<div class="pure-u-1-2 pure-u-md-1-2">
					<div class="card">
						<h1>System details</h1>
						<div class="spinner spinner-small" id="system-spinner"></div>
						<table class="pure-table pure-table-horizontal" hidden="" id="system-table">
							<tbody>
								<tr>
									<td>WiFi mode</td>
									<td id="wifi-mode"></td>
								</tr>
								<tr>
									<td>WiFi channel</td>
									<td id="wifi-chan"></td>
								</tr>
								<tr>
									<td>Flash chip ID</td>
									<td>
										<div>
											<span class="system-id"></span>
											<div class="popup pop-left">
												Common IDs: 4016=4MB, 4014=1MB, 4013=512KB
											</div>
										</div>
									</td>
								</tr>
								<tr>
									<td>Flash size</td>
									<td>
										<div>
											<span class="system-size"></span>
											<div class="popup pop-left">
												Size configured into bootloader, must match chip size
											</div>
										</div>
									</td>
								</tr>
								<tr>
									<td>Webpage size</td>
									<td>
										<div>
											<span class="system-upload-size"></span>
											<div class="popup pop-left">
												The maximal size of the custom web page a user can upload.
											</div>
										</div>
									</td>
								</tr>
								<tr>
									<td>Current partition</td>
									<td class="system-partition"></td>
								</tr>
								<tr>
									<td>Software version</td>
									<td id="version">...</td>
								</tr>
								<tr>
									<td class="popup-target" colspan="2">
										Description:<br>
										<div class="click-to-edit system-description">
											<span class="edit-off" style="display:block; width:auto;"></span> 
											<textarea class="edit-on" hidden="" maxlength="127" rows="3"></textarea>
											<div class="popup">Click to edit!<br>
												A short description or memo for this esp-link module, 128 chars max
											</div>
										</div>
									</td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>
			</div>
		</div>
		<div class="footer">
			<div class="pure-g">
				<div class="pure-u-1-2 pure-u-md-1-2">
					<p>Based on the <a href="https://github.com/jeelabs/esp-link">ESP-Link</a> firmware by JeeLabs</p>
				</div>
				<div class="pure-u-1-2 pure-u-md-1-2">
					<p style="text-align: right;"><a href="https://github.com/jeelabs/esp-link/blob/master/LICENSE.txt">License</a></p>
				</div>
			</div>
		</div>
	</div>
	<script type="text/javascript">
	onLoad(function() {
	 makeAjaxInput("system", "description");
	 makeAjaxInput("system", "name");
	 fetchPins();
	 getWifiInfo();
	 getSystemInfo();
	 bnd($("#pinform"), "submit", setPins);
	});
	</script>
</body>
</html>
